<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NUMENE TERMINAL</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: #050505;
            color: #00FF41; /* Cyberpunk Green */
            overflow-x: hidden;
        }
       .scan-line {
            width: 100%;
            height: 2px;
            background: rgba(0, 255, 65, 0.3);
            position: fixed;
            top: 0;
            left: 0;
            animation: scan 3s linear infinite;
            pointer-events: none;
            z-index: 50;
        }
        @keyframes scan {
            0% { top: 0%; }
            100% { top: 100%; }
        }
       .glitch-effect {
            animation: glitch 1s linear infinite;
        }
        @keyframes glitch {
            2%, 64% { transform: translate(2px,0) skew(0deg); }
            4%, 60% { transform: translate(-2px,0) skew(0deg); }
            62% { transform: translate(0,0) skew(5deg); }
        }
       .btn-primary {
            background: #00FF41;
            color: #000;
            border: 1px solid #00FF41;
            transition: all 0.2s;
        }
       .btn-primary:active {
            background: #000;
            color: #00FF41;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <div class="scan-line"></div>

    <header class="p-4 border-b border-green-900 flex justify-between items-center sticky top-0 bg-black/90 z-40 backdrop-blur">
        <div class="text-xl font-bold tracking-widest">NUMENE<span class="animate-pulse">_</span></div>
        <div id="status-indicator" class="text-xs border border-green-900 px-2 py-1 text-green-700">UNVERIFIED</div>
    </header>

    <main class="flex-grow p-4 space-y-8 relative">
        
        <section id="auth-section" class="space-y-4">
            <div class="text-xs text-gray-500 uppercase tracking-widest mb-2">System Access</div>
            <div class="border border-green-800 bg-green-900/10 p-4 rounded-sm">
                <p class="text-sm mb-4 leading-relaxed">
                    > DETECTING INTERFACE...<br>
                    > PROTOCOL: ORIGIN DETECTED.<br>
                    > WAITING FOR KEY AUTHORIZATION...
                </p>
                <button onclick="simulateScan()" class="btn-primary w-full py-3 text-sm font-bold uppercase tracking-wider hover:shadow-[0_0_10px_rgba(0,255,65,0.5)]">
                   
                </button>
            </div>
        </section>

        <section id="shop-section" class="hidden opacity-0 transition-opacity duration-500">
            <div class="flex justify-between items-end mb-4">
                <div class="text-xs text-gray-500 uppercase tracking-widest">Available Assets</div>
                <div class="text-xs text-green-500">STOCK: <span id="stock-count">50</span>/50</div>
            </div>

            <div class="border border-gray-800 bg-gray-900/50 p-0 relative overflow-hidden group">
                <div class="absolute top-2 right-2 bg-red-600 text-white text-[10px] px-2 py-0.5 font-bold z-10">LIVE</div>
                <div class="h-64 bg-gray-800 flex items-center justify-center relative overflow-hidden">
                    <img src="https://dummyimage.com/600x800/111/444.png&text=THE+SHELL+V.01" alt="Hoodie" class="object-cover w-full h-full opacity-70 group-hover:opacity-100 transition-opacity">
                    <div class="absolute inset-0 bg- pointer-events-none"></div>
                </div>
                <div class="p-4 border-t border-gray-800">
                    <h3 class="text-lg font-bold mb-1">THE SHELL: ORIGIN</h3>
                    <p class="text-xs text-gray-400 mb-4">HEAVYWEIGHT COTTON // FARADAY POCKET // 500GSM</p>
                    <div class="flex justify-between items-center">
                        <span class="text-lg">24,900 RUB</span>
                        <button onclick="Telegram.WebApp.showPopup({title: 'Pre-order', message: 'Initiating secure payment sequence...'})" class="border border-green-600 text-green-500 px-4 py-2 text-xs hover:bg-green-900/20">
                            ACQUIRE >
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="text-xs text-gray-600 space-y-2 pt-8 border-t border-gray-900">
            <p>> ENCRYPTION: AES-256</p>
            <p>> NODE: MOSCOW-1</p>
            <p>> USER_ID: <span id="user-id">LOADING...</span></p>
        </section>

    </main>

    <script>
        // Init Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.expand(); // Naive full screen
        
        // Theme Params
        document.body.style.backgroundColor = tg.themeParams.bg_color |

| '#050505';
        
        // Set User ID if available
        const userIdSpan = document.getElementById('user-id');
        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
            userIdSpan.innerText = tg.initDataUnsafe.user.id;
        } else {
            userIdSpan.innerText = "ANONYMOUS";
        }

        // Simulate NFC Scanning / Verification Logic
        function simulateScan() {
            const btn = document.querySelector('.btn-primary');
            btn.innerText = "SCANNING...";
            btn.classList.add('animate-pulse');
            
            // Artificial delay to simulate NFC read
            setTimeout(() => {
                btn.innerText = "ACCESS GRANTED";
                btn.classList.remove('animate-pulse');
                btn.classList.remove('btn-primary');
                btn.classList.add('bg-gray-800', 'text-gray-500', 'border-gray-800', 'cursor-not-allowed');
                btn.disabled = true;

                // Update UI Status
                const status = document.getElementById('status-indicator');
                status.innerText = "OPERATOR VERIFIED";
                status.className = "text-xs border border-green-500 px-2 py-1 bg-green-500 text-black font-bold glitch-effect";

                // Reveal Shop
                const shop = document.getElementById('shop-section');
                shop.classList.remove('hidden');
                // Small timeout to allow display:block to apply before opacity transition
                setTimeout(() => shop.classList.remove('opacity-0'), 50);
                
                // Haptic feedback
                if(tg.HapticFeedback) {
                    tg.HapticFeedback.notificationOccurred('success');
                }
            }, 1500);
        }

        // Main Button Logic (Optional)
        tg.MainButton.setText("CHECKOUT");
        tg.MainButton.textColor = "#000000";
        tg.MainButton.color = "#00FF41";
        // tg.MainButton.show(); // Show only when cart has items
    </script>
</body>
</html>
